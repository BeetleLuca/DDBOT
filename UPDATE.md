## DDBOT最近更新日志

- v0.1.3
  - 增加多次转发的省略机制，短时间推送同一条动态的多次转发时，只有第一次会显示全部内容，后续转发动态将被省略（看asoul更方便了）
  - 更新b站FeedList接口逻辑，减少在b站接口失败时会误报的情况
  - 增加b站4302类型动态
  - 增加管理员命令`/admin`，用于查看当前拥有Admin权限的人
  - 增加进群后修改bot改名的配置，现在可以自定义改名内容或者取消改名了
  - 支持配置b站关注时使用悄悄关注
  - 支持设置b站自动取消关注
  - 支持设置沉默模式，会减少一些命令的输出信息，具体范围请看命令文档
- 2021-09-20 v0.1.2
  - 修复youtube推送有时候被错误过滤掉的问题
  - 修复审核模式下同意单个好友请求时，会删除剩下的请求的问题
  - 更新b站直播刷新链接（与PC web端保持一致）
  - 增加掉线时处理方式配置，可以禁用自动重连
  - 更新ci及ut配置
- 2021-08-31 v0.1.1
  - 增加启动完成时的文案，避免让人以为卡住了
  - 支持当b站使用帐号密码登陆时，cookie可以自动过期并且刷新了
  - 支持配置b站图片是否合并
  - 修复b站转发动态原动态失效时会推送错误格式的问题
  - 修复关注b站动态时有时候会错误地显示一条关于直播的提示的问题
- 2021-08-23 v0.1.0.1
  - 更新b站登陆方案，修复b站登陆失效的问题
- 2021-08-22 v0.1.0
  - 支持设置bot运行模式，支持“公开”、“私人”、“审核”三种，私人模式下bot会拒绝群邀请和好友申请，审核模式下bot会保留申请，等待审核
  - 优化了一些性能，减少了写磁盘频率
  - 不再推送b站4308类型的动态（对应发布直播信息的推送，应该不是手动发布的），新增b站4098/4099/4101/4300类型的动态
  - 修复取消最后一个直播订阅时，无法刷新直播状态的问题
  - 修复local image pool不支持图片数量的问题
  - 修复退群时有一些key没被删除的问题
  - 修复config命令有时候没有答复的问题
- 2021-08-14 发布 v0.0.20
  - 支持关闭消息自动已读功能
  - 支持配置图床代理，默认使用`pixiv.cat`
  - 升级至miraigo最新版本
  - 修复本地时间有误差时可能无法操作bot的问题
  - 重构了日志格式，更换成更适合人类阅读的格式
  - 更新了b站图片merge的策略
  - 增加联合投稿的防刷屏机制，短时间内多人联合投稿，后续动态将被简化
  - 下播推送时去掉了链接
- 2021-08-09 发布 v0.0.19
  - 支持了优雅停机，现在关闭DDBOT时会等待排队的推送发送完毕。
  - 更新了合并图片的逻辑，现在在非9图但比较刷屏的情况也会合并图片了。
  - 增加了合并图片的缓存，之前同一动态在多个群内推送时会每个群都做一次合并图片。
  - 增加了版本管理，以及启动时检查更新的逻辑。
  - 更新了许多日志文案信息。
  - 修复了私聊消息已读没有生效的bug。
  - 去除了全体禁用的检测（因为管理员权限并不准确）。
  - 支持了b站直播预约抽奖。
  - 增强了quit命令清除数据的力度。
  - 简化了帮助信息，只留下最常见的使用场景，其他详细命令请看命令文档。
  - 增加了b站订阅直播时检测粉丝数的逻辑，如果粉丝数过少，将提示确认订阅无误（主要是用直播间ID来订阅的情况，直播间ID也可能是合法的UID）。
- 2021-08-01 发布 v0.0.18
  - 增加了管理员命令/quit，用于退出群聊，或清除未正常退出的群的数据。
  - 重构buntdb支持嵌套事务，现在被禁言时不会再尝试推送了
- 2021-07-24 发布 v0.0.17
  - 增加了b站使用账号密码登陆，可以不用再手动填cookie了（非常容易出错）
- 2021-07-17 发布 v0.0.16
  - 增加了禁用单个命令的管理员命令，对所有群组生效
- 2021-07-12 发布 v0.0.15
  - 改善了初次使用的体验（增加扫码登陆，自动生成device.json和application.yaml）

- 增加了config配置下播推送，直播间标题推送，开启@全体成员，b站动态推送过滤器。
- 增加了config命令，目前支持配置推送同时@成员（实验阶段，并不保证稳定，目前只支持直播推送）。
- 增加了私聊的grant命令，现在可以通过私聊配置qq群内的群友命令权限了。
- 更新了list命令，现在list命令会展示所有网站的所有订阅，不必再指定-s和-t了。
- 增加了私聊的list命令，现在可以通过私聊查看订阅列表了。
- 增加了虎牙直播的推送。
- 增加了私聊的enable和disable命令，现在可以通过私聊配置qq群内的命令了。
- 增加了私聊的watch和unwatch命令，现在可以通过私聊配置qq群内的订阅了（注意仍然是qq群推送）。
- 更换船新b站监控方案，预计单帐号可支持1000订阅，最大延迟30秒。
